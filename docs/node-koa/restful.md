# 介绍

## REST是什么（Representational State Transfer）

* 万位网软件架构风格
* 用来创建网络服务
* Representational: 数据的表现形式（JSON、XML...）
* State: 当前状态或者数据
* Transfer: 数据传输

----

## REST的6个限制

### 客户-服务器（Client-Server）CS架构限制

* 关注点分离
* 服务端专注数据存储，提升了简单性
* 前端专注用户界面，提升了可移植

### 无状态（Stateless）

* 所有用户会话信息都保存在客户端
* 每次请求必须包括所有信息，不能依赖上下文信息
* 服务端不用保存会话信息，提升了简单性、可靠性、可见性

### 缓存（Cache）

* 所有服务端响应都要被标记为可缓存或者不可缓存
* 减少前后端交互，提升了性能

### 统一接口（uniform Interface）

* 接口设计尽可能统一通用，提升了简单性、可见性
* 接口与实现解耦，使前后端可以独立迭代开发

### 分层系统（Layered System）

* 每层只知道相邻的一层，后面隐藏的就不知道了
* 客户端不知道是和代理还是真实服务器通信（代理可算分层系统中的一层）
* 其它层：安全层、负载均衡、缓存层等

### 按需代码（Code-On-Demand 可选）

* 客户端可以下载运行服务端传来的代码（比如JS）
* 通过减少一些功能，简化了客户端

----

## 统一接口的限制（认识REST的接口可以设计成什么样）

1. 资源的标识
   * 资源是任何可以命名的事物，比如用户、评论等
   * 每个资源都可以通过URI被唯一地标识 (https://api.github.com/users)
2. 通过表述来操作资源
   * 表述就是数据的传输形式（Representational），比如JSON、XML等
   * 客户端不能直接操作（比如SQL）服务端资源
   * 客户端只能通过表述（比如JSON）来操作资源
3. 字描述消息
   * 每个消息（请求或响应）必须提供足够的信息让接受者理解
   * 媒体类型（application/json、 application/xml）
   * HTTP方法： GET、POST、DELETE
   * 是否缓存：Cache-Control
4. 超媒体作为应用状态引擎（点击链接跳转到另一个网页）
   * 超媒体：带文字的链接
   * 应用状态：一个网页
   * 引擎：驱动、跳转

----

## 什么是RESTful API

* 符合REST架构风格的API

----

## RESTful API是什么样

* 基本的URI
* 标准的HTTP方法
* 传输的数据媒体类型

----

## RESTful API设计最佳实践

### 请求设计规范

* URI使用名词，尽量使用复数，如/users
* URI使用嵌套表示关联关系，如/users/12/repos/5
* 使用正确的HTTP方法，如GET/POST/PUT/DELETE
* 不符合CRUD的情况：POST/action/子资源

### 响应设计规范

* 查询（返回符合查询条件的返回值）
* 分页
* 字段过滤（返回指定字段的返回值）
* 状态码
* 错误处理

### 安全

* HTTPS
* 鉴权
* 限流

### 开发者友好

* 文档
* 超媒体
