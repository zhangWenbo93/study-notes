<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用命令 | Notes</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="自我学习">
    
    <link rel="preload" href="/study-notes/assets/css/0.styles.f313a13a.css" as="style"><link rel="preload" href="/study-notes/assets/js/app.039e21f8.js" as="script"><link rel="preload" href="/study-notes/assets/js/2.c66ffe4c.js" as="script"><link rel="preload" href="/study-notes/assets/js/34.7746944f.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/10.1f4a0ba6.js"><link rel="prefetch" href="/study-notes/assets/js/11.3f135838.js"><link rel="prefetch" href="/study-notes/assets/js/12.6d5c0016.js"><link rel="prefetch" href="/study-notes/assets/js/13.385e80e5.js"><link rel="prefetch" href="/study-notes/assets/js/14.0abbf9c6.js"><link rel="prefetch" href="/study-notes/assets/js/15.f1a675c1.js"><link rel="prefetch" href="/study-notes/assets/js/16.cff045ba.js"><link rel="prefetch" href="/study-notes/assets/js/17.1b9fa201.js"><link rel="prefetch" href="/study-notes/assets/js/18.15b4e5fe.js"><link rel="prefetch" href="/study-notes/assets/js/19.96819d01.js"><link rel="prefetch" href="/study-notes/assets/js/20.3d35b0e0.js"><link rel="prefetch" href="/study-notes/assets/js/21.b1b57cb8.js"><link rel="prefetch" href="/study-notes/assets/js/22.33771dfd.js"><link rel="prefetch" href="/study-notes/assets/js/23.a732b160.js"><link rel="prefetch" href="/study-notes/assets/js/24.24b15227.js"><link rel="prefetch" href="/study-notes/assets/js/25.69c4ed30.js"><link rel="prefetch" href="/study-notes/assets/js/26.78ff0822.js"><link rel="prefetch" href="/study-notes/assets/js/27.fe95212f.js"><link rel="prefetch" href="/study-notes/assets/js/28.7ad1509a.js"><link rel="prefetch" href="/study-notes/assets/js/29.61218e4f.js"><link rel="prefetch" href="/study-notes/assets/js/3.63146466.js"><link rel="prefetch" href="/study-notes/assets/js/30.f23314bb.js"><link rel="prefetch" href="/study-notes/assets/js/31.cdae011c.js"><link rel="prefetch" href="/study-notes/assets/js/32.60127ca6.js"><link rel="prefetch" href="/study-notes/assets/js/33.ff9cf28d.js"><link rel="prefetch" href="/study-notes/assets/js/35.0216b661.js"><link rel="prefetch" href="/study-notes/assets/js/36.fcf7055f.js"><link rel="prefetch" href="/study-notes/assets/js/37.6e2d7c68.js"><link rel="prefetch" href="/study-notes/assets/js/38.a9661128.js"><link rel="prefetch" href="/study-notes/assets/js/39.f25b8af3.js"><link rel="prefetch" href="/study-notes/assets/js/4.1b408ca5.js"><link rel="prefetch" href="/study-notes/assets/js/40.b2812eac.js"><link rel="prefetch" href="/study-notes/assets/js/41.e63c192c.js"><link rel="prefetch" href="/study-notes/assets/js/42.91310054.js"><link rel="prefetch" href="/study-notes/assets/js/43.195adb7b.js"><link rel="prefetch" href="/study-notes/assets/js/44.b82e0971.js"><link rel="prefetch" href="/study-notes/assets/js/45.54e35d71.js"><link rel="prefetch" href="/study-notes/assets/js/46.4b06e4d8.js"><link rel="prefetch" href="/study-notes/assets/js/47.c58d11ab.js"><link rel="prefetch" href="/study-notes/assets/js/48.69319e05.js"><link rel="prefetch" href="/study-notes/assets/js/49.81df32c4.js"><link rel="prefetch" href="/study-notes/assets/js/5.45c26daa.js"><link rel="prefetch" href="/study-notes/assets/js/50.b86cd1f2.js"><link rel="prefetch" href="/study-notes/assets/js/51.48962766.js"><link rel="prefetch" href="/study-notes/assets/js/52.d5814608.js"><link rel="prefetch" href="/study-notes/assets/js/53.12683cf2.js"><link rel="prefetch" href="/study-notes/assets/js/54.7f8f2a18.js"><link rel="prefetch" href="/study-notes/assets/js/55.397b6083.js"><link rel="prefetch" href="/study-notes/assets/js/56.ab7945ea.js"><link rel="prefetch" href="/study-notes/assets/js/57.d03d45cb.js"><link rel="prefetch" href="/study-notes/assets/js/58.bae8dfce.js"><link rel="prefetch" href="/study-notes/assets/js/59.c7d972b0.js"><link rel="prefetch" href="/study-notes/assets/js/6.ceefd9a6.js"><link rel="prefetch" href="/study-notes/assets/js/60.50c38210.js"><link rel="prefetch" href="/study-notes/assets/js/61.2d11d07c.js"><link rel="prefetch" href="/study-notes/assets/js/62.6b2af576.js"><link rel="prefetch" href="/study-notes/assets/js/63.826c65fe.js"><link rel="prefetch" href="/study-notes/assets/js/64.9960e579.js"><link rel="prefetch" href="/study-notes/assets/js/65.ff4ea3f1.js"><link rel="prefetch" href="/study-notes/assets/js/66.f6631330.js"><link rel="prefetch" href="/study-notes/assets/js/67.d010895e.js"><link rel="prefetch" href="/study-notes/assets/js/68.55195346.js"><link rel="prefetch" href="/study-notes/assets/js/69.05dc4f2e.js"><link rel="prefetch" href="/study-notes/assets/js/7.22afd591.js"><link rel="prefetch" href="/study-notes/assets/js/70.9b1fb209.js"><link rel="prefetch" href="/study-notes/assets/js/71.eff503c4.js"><link rel="prefetch" href="/study-notes/assets/js/72.1c282bd5.js"><link rel="prefetch" href="/study-notes/assets/js/73.6258956d.js"><link rel="prefetch" href="/study-notes/assets/js/74.8debcd50.js"><link rel="prefetch" href="/study-notes/assets/js/75.4cef4522.js"><link rel="prefetch" href="/study-notes/assets/js/76.b4268a30.js"><link rel="prefetch" href="/study-notes/assets/js/77.0ec777b3.js"><link rel="prefetch" href="/study-notes/assets/js/8.c8a1b87b.js"><link rel="prefetch" href="/study-notes/assets/js/9.f05e9459.js">
    <link rel="stylesheet" href="/study-notes/assets/css/0.styles.f313a13a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study-notes/" class="home-link router-link-active"><!----> <span class="site-name">Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study-notes/koa2/restful.html" class="nav-link">
  koa2
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/design-patterns/面向对象_01.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/interview-advanced/mind-mapping.html" class="nav-link">
  能力进阶
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/cms-vue/advance.html" class="nav-link">
  vue koa 实现后台管理
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/HTTP/了解HTTP协议.html" class="nav-link">
  HTTP协议
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/node/Node.js在前后端的区别.html" class="nav-link">
  node应用开发
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study-notes/koa2/restful.html" class="nav-link">
  koa2
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/design-patterns/面向对象_01.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/interview-advanced/mind-mapping.html" class="nav-link">
  能力进阶
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/cms-vue/advance.html" class="nav-link">
  vue koa 实现后台管理
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/HTTP/了解HTTP协议.html" class="nav-link">
  HTTP协议
</a></li><li class="dropdown-item"><!----> <a href="/study-notes/node/Node.js在前后端的区别.html" class="nav-link">
  node应用开发
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue koa 实现后台管理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study-notes/cms-vue/advance.html" class="sidebar-link">Vue进阶</a></li><li><a href="/study-notes/cms-vue/vuex-vue-router.html" class="sidebar-link">Vuex 和 Vue-router 进阶</a></li><li><a href="/study-notes/cms-vue/前端框架搭建.html" class="sidebar-link">前端框架搭建</a></li><li><a href="/study-notes/cms-vue/后端框架搭建.html" class="sidebar-link">后端框架搭建</a></li><li><a href="/study-notes/cms-vue/功能分析.html" class="sidebar-link">功能分析</a></li><li><a href="/study-notes/cms-vue/登录页.html" class="sidebar-link">用户登录</a></li><li><a href="/study-notes/cms-vue/路由和权限校验.html" class="sidebar-link">路由和权限校验</a></li><li><a href="/study-notes/cms-vue/侧边栏.html" class="sidebar-link">侧边栏</a></li><li><a href="/study-notes/cms-vue/重定向.html" class="sidebar-link">重定向</a></li><li><a href="/study-notes/cms-vue/面包屑导航.html" class="sidebar-link">面包屑导航</a></li><li><a href="/study-notes/cms-vue/电子书上传.html" class="sidebar-link">电子书上传</a></li><li><a href="/study-notes/cms-vue/电子书新增.html" class="sidebar-link">电子书新增</a></li><li><a href="/study-notes/cms-vue/电子书编辑.html" class="sidebar-link">电子书编辑</a></li><li><a href="/study-notes/cms-vue/电子书列表.html" class="sidebar-link">电子书列表</a></li><li><a href="/study-notes/cms-vue/项目部署.html" class="sidebar-link">项目部署</a></li><li><a href="/study-notes/cms-vue/常用命令.html" class="active sidebar-link">常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study-notes/cms-vue/常用命令.html#pm2-常用命令" class="sidebar-link">PM2 常用命令</a></li><li class="sidebar-sub-header"><a href="/study-notes/cms-vue/常用命令.html#防止服务器断开连接" class="sidebar-link">防止服务器断开连接</a></li><li class="sidebar-sub-header"><a href="/study-notes/cms-vue/常用命令.html#centos-7下启动、关闭、重启、查看mysql服务" class="sidebar-link">CentOS 7下启动、关闭、重启、查看MySQL服务</a></li><li class="sidebar-sub-header"><a href="/study-notes/cms-vue/常用命令.html#nginx常用命令" class="sidebar-link">Nginx常用命令</a></li><li class="sidebar-sub-header"><a href="/study-notes/cms-vue/常用命令.html#nginx-的配置文件和最佳实践" class="sidebar-link">Nginx 的配置文件和最佳实践</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h1> <h2 id="pm2-常用命令"><a href="#pm2-常用命令" class="header-anchor">#</a> PM2 常用命令</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>pm2文档地址<a href="http://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank" rel="noopener noreferrer">查看<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <ul><li><p>pm2 start app.js     # 启动app.js应用程序</p></li> <li><p>pm2 start app.js -i 4        # cluster mode 模式启动4个app.js的应用实例，4个应用程序会自动进行负载均衡</p></li> <li><p>pm2 start app.js --name=&quot;api&quot; # 启动应用程序并命名为 &quot;api&quot;</p></li> <li><p>pm2 start app.js --watch      # 当文件变化时自动重启应用</p></li> <li><p>pm2 start script.sh          # 启动 bash 脚本</p></li> <li><p>pm2 list                      # 列表 PM2 启动的所有的应用程序</p></li> <li><p>pm2 monit                    # 显示每个应用程序的CPU和内存占用情况</p></li> <li><p>pm2 show [app-name]          # 显示应用程序的所有信息</p></li> <li><p>pm2 logs                      # 显示所有应用程序的日志</p></li> <li><p>pm2 logs [app-name]          # 显示指定应用程序的日志</p></li> <li><p>pm2 flush                       # 清空所有日志文件</p></li> <li><p>pm2 stop all                  # 停止所有的应用程序</p></li> <li><p>pm2 stop 0                    # 停止 id为 0的指定应用程序</p></li> <li><p>pm2 restart all              # 重启所有应用</p></li> <li><p>pm2 reload all                # 重启 cluster mode下的所有应用</p></li> <li><p>pm2 gracefulReload all        # Graceful reload all apps in cluster mode</p></li> <li><p>pm2 delete all                # 关闭并删除所有应用</p></li> <li><p>pm2 delete 0                  # 删除指定应用 id 0</p></li> <li><p>pm2 scale api 10              # 把名字叫api的应用扩展到10个实例</p></li> <li><p>pm2 reset [app-name]          # 重置重启数量</p></li> <li><p>pm2 startup                  # 创建开机自启动命令</p></li> <li><p>pm2 save                      # 保存当前应用列表</p></li> <li><p>pm2 resurrect                # 重新加载保存的应用列表</p></li> <li><p>pm2 update                    # 保存进程、终止PM2和恢复进程</p></li> <li><p>pm2 generate                  # 生成示例json配置文件</p></li></ul> <h2 id="防止服务器断开连接"><a href="#防止服务器断开连接" class="header-anchor">#</a> 防止服务器断开连接</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">vim</span> /etc/ssh/sshd_config

ClientAliveInterval <span class="token number">30</span> <span class="token comment"># 开启 ClientAliveInterval 修改为 30 表示每30自动连接</span>
<span class="token function">service</span> sshd restart   <span class="token comment"># 重启sshd</span>
</code></pre></div><h2 id="centos-7下启动、关闭、重启、查看mysql服务"><a href="#centos-7下启动、关闭、重启、查看mysql服务" class="header-anchor">#</a> CentOS 7下启动、关闭、重启、查看MySQL服务</h2> <ul><li>启动命令</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@xxx ~<span class="token punctuation">]</span><span class="token comment"># service mysqld start</span>
Redirecting to /bin/systemctl start  mysqld.service
</code></pre></div><ul><li>关闭命令</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@xxx ~<span class="token punctuation">]</span><span class="token comment"># service mysqld stop</span>
Redirecting to /bin/systemctl stop  mysqld.service
</code></pre></div><ul><li>重启命令</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@xxx ~<span class="token punctuation">]</span><span class="token comment"># service mysqld restart</span>
Redirecting to /bin/systemctl restart  mysqld.service
</code></pre></div><ul><li>查看服务状态</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@xxx ~<span class="token punctuation">]</span><span class="token comment"># service mysqld status</span>
Redirecting to /bin/systemctl status mysqld.service
● mysqld.service - MySQL Server
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/mysqld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Fri <span class="token number">2021</span>-05-14 <span class="token number">10</span>:06:17 CST<span class="token punctuation">;</span> 6h ago
     Docs: man:mysqld<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
           http://dev.mysql.com/doc/refman/en/using-systemd.html
  Process: <span class="token number">31890</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/bin/mysqld_pre_systemd <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
 Main PID: <span class="token number">31913</span> <span class="token punctuation">(</span>mysqld<span class="token punctuation">)</span>
   Status: <span class="token string">&quot;Server is operational&quot;</span>
   CGroup: /system.slice/mysqld.service
           └─31913 /usr/sbin/mysqld

May <span class="token number">14</span> <span class="token number">10</span>:06:15 wbhy systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting MySQL Server<span class="token punctuation">..</span>.
May <span class="token number">14</span> <span class="token number">10</span>:06:17 wbhy systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started MySQL Server.
</code></pre></div><ul><li>查看MySql系统配置</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>root@xxx ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/my.cnf</span>
<span class="token comment"># For advice on how to change settings please see</span>
<span class="token comment"># http://dev.mysql.com/doc/refman/8.0/en/server-configuration-defaults.html</span>

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token assign-left variable">character_set_server</span><span class="token operator">=</span>utf8
init-connect<span class="token operator">=</span><span class="token string">'SET NAMES utf8'</span>
<span class="token comment"># 设置模式</span>
sql_mode <span class="token operator">=</span>STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
<span class="token comment"># validate_password_policy=0</span>
<span class="token comment"># validate_password.mixed_case_count=0</span>
<span class="token comment"># validate_password.number_count=3</span>
<span class="token comment"># validate_password.special_char_count=0</span>
<span class="token comment"># validate_password.length=6</span>
<span class="token comment">#</span>
<span class="token comment"># Remove leading # and set to the amount of RAM for the most important data</span>
<span class="token comment"># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span>
<span class="token comment"># innodb_buffer_pool_size = 128M</span>
<span class="token comment">#</span>
<span class="token comment"># Remove the leading &quot;# &quot; to disable binary logging</span>
<span class="token comment"># Binary logging captures changes between backups and is enabled by</span>
<span class="token comment"># default. It's default setting is log_bin=binlog</span>
<span class="token comment"># disable_log_bin</span>
<span class="token comment">#</span>
<span class="token comment"># Remove leading # to set options mainly useful for reporting servers.</span>
<span class="token comment"># The server defaults are faster for transactions and fast SELECTs.</span>
<span class="token comment"># Adjust sizes as needed, experiment to find the optimal values.</span>
<span class="token comment"># join_buffer_size = 128M</span>
<span class="token comment"># sort_buffer_size = 2M</span>
<span class="token comment"># read_rnd_buffer_size = 2M</span>
<span class="token comment">#</span>
<span class="token comment"># Remove leading # to revert to previous value for default_authentication_plugin,</span>
<span class="token comment"># this will increase compatibility with older clients. For background, see:</span>
<span class="token comment"># https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_default_authentication_plugin</span>
<span class="token comment"># default-authentication-plugin=mysql_native_password</span>

<span class="token assign-left variable">datadir</span><span class="token operator">=</span>/var/lib/mysql
<span class="token assign-left variable">socket</span><span class="token operator">=</span>/var/lib/mysql/mysql.sock

log-error<span class="token operator">=</span>/var/log/mysqld.log
pid-file<span class="token operator">=</span>/var/run/mysqld/mysqld.pid
</code></pre></div><h2 id="nginx常用命令"><a href="#nginx常用命令" class="header-anchor">#</a> Nginx常用命令</h2> <ul><li>设置 Nginx 开机启动</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> nginx
</code></pre></div><ul><li>关闭开机启动 Nginx</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl disable nginx
</code></pre></div><ul><li>检查 Nginx 的运行状态</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl status nginx
</code></pre></div><ul><li>启动 Nginx</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl start nginx
</code></pre></div><ul><li>停止 Nginx</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl stop nginx
</code></pre></div><ul><li>重启 Nginx</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl restart nginx
</code></pre></div><ul><li>修改 Nginx 配置后，重新加载</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl reload nginx
</code></pre></div><h2 id="nginx-的配置文件和最佳实践"><a href="#nginx-的配置文件和最佳实践" class="header-anchor">#</a> Nginx 的配置文件和最佳实践</h2> <ul><li>通过以上方式安装的 <code>Nginx</code>，所有相关的配置文件都在 <code>/etc/nginx/</code> 目录中。</li> <li><code>Nginx</code> 的主配置文件是 <code>/etc/nginx/nginx.conf</code>。
为了使 <code>Nginx</code> 配置更易于维护，建议为每个服务（域名）创建一个单独的配置文件。</li> <li>每一个独立的 <code>Nginx</code> 服务配置文件都必须以 <code>.conf</code> 结尾，并存储在 <code>/etc/nginx/conf.d</code> 目录中。您可以根据需求，创建任意多个独立的配置文件。</li> <li>独立的配置文件，建议遵循以下命名约定，比如你的域名是 <code>xxxx.com</code>，那么你的配置文件的应该是这样的 <code>/etc/nginx/conf.d/xxxx.com.conf</code>，如果你在一个服务器中部署多个服务，当然你也可以在文件名中加上 Nginx 转发的端口号，比如 <code>xxxxx.com.3000.conf</code>，这样做看起来会更加友好。</li> <li>如果你的配置中有很多重复的代码，那么建议你创建一个 <code>/etc/nginx/snippets</code> 文件夹，在这里面存放所有会被复用的代码块，然后在各个需要用到的 <code>Nginx</code> 的配置文件中引用进去，这样可以更方便管理和修改。</li> <li><code>Nginx</code> 日志文件 <code>（access.log 和 error.log ）</code> 位于 <code>/var/log/nginx/</code> 目录中。建议为每个独立的服务配置不同的访问权限和错误日志文件，这样查找错误时，会更加方便快捷。</li> <li>你可以将要部署的代码文件，存储在任何你想的位置，但是一般推荐存放在下列位置中的其中一个：
<ul><li>/home/&lt;user_name&gt;/&lt;site_name&gt;</li> <li>/var/www/&lt;site_name&gt;</li> <li>/var/www/html/&lt;site_name&gt;</li> <li>/opt/&lt;site_name&gt;</li> <li>/usr/share/nginx/html</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">5/14/2021, 5:10:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study-notes/cms-vue/项目部署.html" class="prev">
        项目部署
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study-notes/assets/js/app.039e21f8.js" defer></script><script src="/study-notes/assets/js/2.c66ffe4c.js" defer></script><script src="/study-notes/assets/js/34.7746944f.js" defer></script>
  </body>
</html>
